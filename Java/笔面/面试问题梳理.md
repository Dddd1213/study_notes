# 面试问题梳理

[TOC]

## 用到redis的场景

- **在羊毛外卖项目中，每次用户点开页面都需要加载大量的菜品数据，一旦用户过多，就会对数据库造成很大压力**
  - 采取redis缓存，每次请求获取菜单列表的时候，先查一遍redis，如果没有再去查数据库，查完后将数据放一份在redis中，这样可以提高下次查询的速度。
  - 为了简便，可以使用springcache，是一种基于注解的缓存功能，基于spring的AOP思想实现，可以将重复的查找缓存加入缓存的步骤替换为直接在方法上加对应注解，大大提高开发效率。
- **在用户登录页面中，需要用验证码校验，需要设置验证码1min过期和用户每十分钟只能验证5次**
  - 可以将验证码在redis中用setex存一份并设置过期时间为1min
  - 用户登录次数再setex记录，并将过期时间设为10分钟