# OJ

[TOC]

# 设计思路

## 基本功能

- 题目：题目背景，题目描述，输入格式，输出格式，输入输出样例
- 限制：时间限制，内存限制
- 提交：语言选择
- 检验：不能随便引入包，不能采用奇怪的方式暴力破解
- 判题：异步进行
- 结果：提交信息，运行结果（是否AC），运行信息

## 常用概念

- 测评方式
  - 普通测评：把示例输入放入用户提交代码中，把输出和正确输出比较
  - 特殊测评（SPJ）：写一个特殊的判断程序，程序接受标准输入，标准输出，用户的结果，然后进行比对

## 核心

- 权限校验
- 代码沙箱
  - 隔离的安全环境，不让用户代码影响系统运行
- 资源分配：限制用户程序的占用资源
- 判题规则
- 任务调度：消息队列

## 流程图

![image-20231208001131776](C:\Users\31067\AppData\Roaming\Typora\typora-user-images\image-20231208001131776.png)



## 模块

1. 题目模块
   - 创建题目（管理）
   - 删除题目（管理）
   - 修改题目（管理）
   - 搜索题目
   - 在线做题
   - 提交题目代码
2. 用户模块
   - 注册
   - 登录
     - 验证码
3. 判题模块
   - 提交判题（结果是否正确）
   - 错误处理（内存溢出，安全性，超时）
   - 代码沙箱
   - 开放接口（提供一个独立的新服务）

## 现成的

- judge0：很完善，提供了很多api



## 技术选型

- SpringBoot + Mybatis(Plus)
- Security 
  - 做普通用户和管理员的权限校验
- JWT
  - 登录校验
- RabbitMQ
  - 异步化



## 数据库设计

#### 用户

- id string
- role binint



# 02

# 后端 启动！！































































































































